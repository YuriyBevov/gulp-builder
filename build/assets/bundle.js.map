{"version":3,"file":"./bundle.js","mappings":"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","sources":["webpack://gulp-template/./src/scripts/classes/Modal.js","webpack://gulp-template/./src/scripts/modules/testModule.js","webpack://gulp-template/webpack/bootstrap","webpack://gulp-template/webpack/runtime/define property getters","webpack://gulp-template/webpack/runtime/hasOwnProperty shorthand","webpack://gulp-template/webpack/runtime/make namespace object","webpack://gulp-template/./src/scripts/main.js"],"sourcesContent":["export class Modal {\n  constructor( modal, options = {} ) {\n      this.isBodyLocked = options.isBodyLocked ? true : false,\n      this.modal = modal;\n      this.id = this.modal.getAttribute('id');\n      this.openers = document.querySelectorAll('[data-modal-anchor=\"' + this.id + '\"]');\n      this.isInited = false;\n      this.overlay = this.modal.parentNode;\n      this.close = this.modal.querySelector('.modal__close');\n  }\n\n  bodyLocker = (bool) => {\n      if(this.isInited) {\n          let body = document.querySelector('body');\n\n          if(bool) {\n              body.style.overflow = 'hidden';\n          } else {\n              body.style.overflow = 'auto';\n          }\n      } else {\n          console.error('Для инициализации используй new Modal(_modal-selector_).init()')\n      }\n  }\n\n  focusTrap = () => {\n      if(this.isInited) {\n          const focusableElements = 'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])';\n\n          const firstFocusableElement = this.modal.querySelectorAll(focusableElements)[0];\n          const focusableContent = this.modal.querySelectorAll(focusableElements);\n          const lastFocusableElement = focusableContent[focusableContent.length - 1];\n\n          let onBtnClickHandler = (evt) => {\n              let isTabPressed = evt.key === 'Tab' || evt.key === 9;\n\n              if(evt.key === 'Escape') {\n                  document.removeEventListener('keydown', onBtnClickHandler);\n              }\n\n              if (!isTabPressed) {\n                  return;\n              }\n\n              if (evt.shiftKey) {\n                  if (document.activeElement === firstFocusableElement) {\n                      lastFocusableElement.focus();\n                      evt.preventDefault();\n                  }\n              } else {\n                  if (document.activeElement === lastFocusableElement) {\n                      firstFocusableElement.focus();\n                      evt.preventDefault();\n                  }\n              }\n          }\n\n          document.addEventListener('keydown', onBtnClickHandler);\n\n          firstFocusableElement.focus();\n      } else {\n          console.error('Для инициализации используй new Modal(_modal-selector_).init()')\n      }\n  }\n\n  addListeners = () => {\n      if(this.isInited) {\n\n          this.openers.forEach(opener => {\n              opener.removeEventListener('click', this.openModal);\n          })\n\n          document.addEventListener('click', this.closeByOverlayClick);\n          document.addEventListener('keydown', this.closeByEscBtn);\n\n          this.close.addEventListener('click', this.closeByBtnClick);\n      } else {\n          console.error('Для инициализации используй new Modal(_modal-selector_).init()')\n      }\n  }\n\n  refresh = () => {\n      if(this.isInited) {\n          this.isBodyLocked ?\n          this.bodyLocker(false) : null;\n\n          document.removeEventListener('click', this.closeByOverlayClick);\n          document.removeEventListener('keydown', this.closeByEscBtn);\n\n          this.close.removeEventListener('click', this.closeByBtnClick);\n          this.overlay.classList.remove('is-opened');\n          this.modal.classList.remove('is-active');\n\n          this.openers.forEach(opener => {\n              opener.addEventListener('click', this.openModal);\n          })\n      } else {\n          console.error('Для инициализации используй new Modal(_modal-selector_).init()')\n      }\n  }\n\n  closeByOverlayClick = (evt) => {\n      if(this.isInited) {\n          if(evt.target === this.overlay) {\n              this.refresh();\n          }\n      } else {\n          console.error('Для инициализации используй new Modal(_modal-selector_).init()')\n      }\n  }\n\n  closeByEscBtn = (evt) => {\n      if(this.isInited) {\n          if (evt.key === \"Escape\") {\n              this.refresh();\n          }\n      } else {\n          console.error('Для инициализации используй new Modal(_modal-selector_).init()')\n      }\n  }\n\n  closeByBtnClick = () => {\n      if(this.isInited) {\n          this.refresh();\n      } else {\n          console.error('Для инициализации используй new Modal(_modal-selector_).init()')\n      }\n  }\n\n  openModal = (evt) => {\n      evt.preventDefault();\n      if(this.isInited) {\n          this.isBodyLocked ?\n          this.bodyLocker(true) : null;\n\n          this.overlay.classList.add('is-opened');\n          this.modal.classList.add('is-active');\n          this.addListeners();\n          this.focusTrap();\n      } else {\n          console.error('Для инициализации используй new Modal(_modal-selector_).init()')\n      }\n  }\n\n  init() {\n      if(this.openers) {\n          this.isInited = true;\n\n          this.openers.forEach(opener => {\n              opener.addEventListener('click', this.openModal, this.modal, this.overlay);\n          })\n      } else {\n          console.error('Не добавлена кнопка открытия модального окна, либо в ней не прописан аттр-т: data-modal-anchor={modal-id} ')\n      }\n  };\n}\n","import { Modal } from '../classes/Modal.js';\n\n\nlet modals = document.querySelectorAll('.modal');\n\nmodals.forEach(modal => {\n    new Modal(modal).init();\n})\n\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import './modules/testModule.js';\n//import \"./vue/main.js\";\n"],"names":["Modal","modal","options","bool","isInited","body","document","querySelector","style","overflow","console","error","focusableElements","firstFocusableElement","querySelectorAll","focusableContent","lastFocusableElement","length","onBtnClickHandler","evt","isTabPressed","key","removeEventListener","shiftKey","activeElement","focus","preventDefault","addEventListener","openers","forEach","opener","openModal","closeByOverlayClick","closeByEscBtn","close","closeByBtnClick","isBodyLocked","bodyLocker","overlay","classList","remove","target","refresh","add","addListeners","focusTrap","id","getAttribute","parentNode","modals","init"],"sourceRoot":""}